var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.LazyLoad=t()}(this,function(){"use strict";function e(e,t){return e.getAttribute("data-"+t)}function t(t){return t.filter(function(t){return!e(t,"was-processed")})}function n(e,t){var n,r=new e(t);try{n=new CustomEvent("LazyLoad::Initialized",{detail:{instance:r}})}catch(e){(n=document.createEvent("CustomEvent")).initCustomEvent("LazyLoad::Initialized",!1,!1,{instance:r})}window.dispatchEvent(n)}function r(e,t){d?e.classList.add(t):e.className+=(e.className?" ":"")+t}function s(e,t){e&&e(t)}function o(e,t,n){e.removeEventListener("load",t),e.removeEventListener("error",n)}function a(e,t,n){var o,a,i=e.target;o=i,a=n.class_loading,d?o.classList.remove(a):o.className=o.className.replace(new RegExp("(^|\\s+)"+a+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,""),r(i,t?n.class_loaded:n.class_error),s(t?n.callback_load:n.callback_error,i)}function i(t,n){function i(e){a(e,!0,l),o(c,i,u)}var c,l,u;s(n.callback_enter,t),-1<["IMG","IFRAME"].indexOf(t.tagName)&&(l=n,u=function e(t){a(t,!1,l),o(c,i,e)},(c=t).addEventListener("load",i),c.addEventListener("error",u),r(t,n.class_loading)),function(t,n){var r=n.data_src,s=n.data_srcset,o=t.tagName,a=e(t,r);if("IMG"===o){!function(){var r,s=n.data_srcset,o=t.parentNode;if(o&&"PICTURE"===o.tagName)for(var a,i=0;a=o.children[i];i+=1)"SOURCE"!==a.tagName||(r=e(a,s))&&a.setAttribute("srcset",r)}();var i=e(t,s);return i&&t.setAttribute("srcset",i),a&&t.setAttribute("src",a)}"IFRAME"!==o?a&&(t.style.backgroundImage='url("'+a+'")'):a&&t.setAttribute("src",a)}(t,n),t.setAttribute("data-was-processed",!0),s(n.callback_set,t)}function c(e,t){var n;this._settings=(n={elements_selector:"img",container:document,threshold:300,data_src:"src",data_srcset:"srcset",class_loading:"loading",class_loaded:"loaded",class_error:"error",callback_load:null,callback_error:null,callback_set:null,callback_enter:null},_extends({},n,e)),this._setObserver(),this.update(t)}var l="undefined"!=typeof window,u=l&&"IntersectionObserver"in window,d=l&&"classList"in document.createElement("p");c.prototype={_setObserver:function(){var e,n,r=this;u&&(n={root:(e=this._settings).container===document?null:e.container,rootMargin:e.threshold+"px"},this._observer=new IntersectionObserver(function(e){e.forEach(function(e){var t;(e.isIntersecting||0<e.intersectionRatio)&&(i(t=e.target,r._settings),r._observer.unobserve(t))}),r._elements=t(r._elements)},n))},update:function(e){var n=this,r=this._settings,s=e||r.container.querySelectorAll(r.elements_selector);this._elements=t(Array.prototype.slice.call(s)),this._observer?this._elements.forEach(function(e){n._observer.observe(e)}):(this._elements.forEach(function(e){i(e,r)}),this._elements=t(this._elements))},destroy:function(){var e=this;this._observer&&(t(this._elements).forEach(function(t){e._observer.unobserve(t)}),this._observer=null),this._elements=null,this._settings=null}};var f=window.lazyLoadOptions;return l&&f&&function(e,t){if(t.length)for(var r,s=0;r=t[s];s+=1)n(e,r);else n(e,t)}(c,f),c});